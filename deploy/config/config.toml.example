# Main server configuration for network binding
[server]
# Address to bind to. Since Caddy is handling external access and proxying,
# binding to "127.0.0.1" (localhost) is recommended for security.
# Caddy will connect to the app on this address and port.
host = "127.0.0.1"

# Port the application server will listen on. Caddy will proxy requests to this port.
# Make sure this doesn't conflict with other services on the server.
port = 8686


# Database configuration (SQLite only)
[database]
# Path to the SQLite database file. Using an absolute path is generally recommended
# for system services. This directory must be writable by the 'momentum' user.
path = "/var/lib/momentum/momentum.db"


# Core application settings
[application]
# Application name, potentially used in UI elements or logs.
name = "Momentum"

# Logging configuration
[application.logging]
# Logging level for the application. Options typically include:
# trace, debug, info, warn, error
# The systemd service redirects stdout/stderr to journald by default.
level = "info"

# Optional: Configuration for direct file logging, if your app supports it
# and you prefer it over relying solely on journald via systemd.
# file_enabled = false
# file_path = "/var/log/momentum/app.log" # Ensure 'momentum' user can write here
# rotation_enabled = true
# rotation_size_mb = 100
# rotation_keep_count = 5


# Backup configuration
[application.backup]
# Directory where database backups generated by 'momentum backup' will be stored.
# Ensure the 'momentum' user has write permissions to this directory.
directory = "/var/lib/momentum/backups"

# Optional: Define how many backups to keep (if implemented in your backup logic).
# retention_days = 7
# retention_count = 5 # Alternative: keep the last N backups